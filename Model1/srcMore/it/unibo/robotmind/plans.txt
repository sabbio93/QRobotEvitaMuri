plan(1,init, sentence(true,move(print("controller starts")),'','' ))
plan(2,init, sentence(true,move( switchplan(waitForInput) ),'','' ))
plan(1,waitForInput, sentence(true,senseEvent(600000,"cmd,robotLeave,robotDetected","handleUserCommand,handleSonarEvent,handleSonarEvent"),'','' ))
plan(2,waitForInput, sentence(true,repeatplan(0) ,'','' ))
plan(1,handleUserCommand, sentence( davanti( sonara,rover),eventswitch(cmd, Â»cmd( start), forward(rover, muovi,muovi( start)) ),'','' ))
plan(2,handleUserCommand, sentence(true,move(resumeplan),'','' ))
plan(1,handleSonarEvent, sentence( davanti( sonara,rover),eventswitch(robotLeave, Â»robotLeave( sonara), removeRule( davanti( sonara,rover) ) ),'','' ))
plan(2,handleSonarEvent, sentence(true,eventswitch(robotDetected, Â»robotDetected( sonarb,D), raise( stop , stop )') ),'','' ))
plan(3,handleSonarEvent, sentence(true,move(resumeplan),'','' ))
